<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <title>Quiz Results</title>
</head>
<body>
    <div class="container">
        <h1>Quiz Results</h1>
        <h2><%= quiz.title %></h2>

        <% if (!quizResult) { %>
            <p>No result found for this quiz.</p>
        <% } else { %>
            <!-- Display the result for the current user -->
            <ul class="list-group">
                <li class="list-group-item">
                    <strong>Score:</strong> <%= quizResult.score %> <br>
                    <strong>Answers:</strong>
                    <ul>
                        <% quizResult.answers.forEach(answer => { %>
                            <li>
                                <strong>Question:</strong> <%= answer.questionText %> <br> <!-- Display question text -->
                                <strong>Your Answer:</strong> <%= answer.userAnswer %> <br>
                                <strong>Correct:</strong> <%= answer.isCorrect ? "Yes" : "No" %>
                            </li>
                        <% }); %>
                    </ul>
                </li>
            </ul>
        <% } %>

        <a href="/admin/activities/<%= quiz.roomId %>" class="btn btn-primary">Back to activities</a>
    </div>
</body>
</html>
